import { animated, useSpring } from '@react-spring/web'
import { cn } from '@repo/utils'
import { useEffect } from 'react'
import { Metadata } from '.'

interface StepProps {
  minify?: boolean
  goNext: VoidFunction
  goBack: VoidFunction
  value: Metadata['role']
  onChange: (s: Metadata['role']) => void
}

export default function RoleStep({
  minify,
  goNext,
  goBack,
  value,
  onChange,
}: StepProps) {
  const [springs, api] = useSpring(() => ({
    from: { height: 0 },
  }))

  useEffect(() => {
    if (minify) {
      api.start({
        to: {
          height: 0,
        },
      })
    } else {
      api.start({
        to: {
          height: 300,
        },
      })
    }
  }, [minify, api])

  const handleSelect = (v: Metadata['role']) => {
    onChange(v)
    setTimeout(() => {
      goNext()
    }, 800)
  }
  return (
    <animated.div
      className="w-full overflow-hidden px-16"
      style={{ ...springs }}
    >
      <ul className="menu menu-xl mb-8 w-full flex-nowrap gap-2 py-0">
        <li className="menu-title">ضمینه فعالیت خود را انتخاب کنید</li>
        <li>
          <a
            className={cn({ 'bg-white/10': value === 'design' })}
            onClick={() => {
              handleSelect('design')
            }}
          >
            {design}
            <span>طراحی</span>
          </a>
        </li>
        <li>
          <a
            className={cn({ 'bg-white/10': value === 'supervision' })}
            onClick={() => {
              handleSelect('supervision')
            }}
          >
            {supervision}
            <span>نظارت</span>
          </a>
        </li>
        <li>
          <a
            className={cn({ 'bg-white/10': value === 'execution' })}
            onClick={() => {
              handleSelect('execution')
            }}
          >
            {execution}
            <span>اجرا</span>
          </a>
        </li>
      </ul>
      <button
        className="btn btn-warning btn-dash btn-block mt-1 rounded-full"
        onClick={goBack}
      >
        <span>بازگشت</span>
      </button>
    </animated.div>
  )
}

const design = (
  <svg
    fill="currentcolor"
    className="me-1 size-6"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 512.002 512.002"
  >
    <g>
      <g>
        <path
          d="M505.327,498.2L18.104,10.977c-2.311-2.311-5.791-3.003-8.81-1.752c-3.021,1.25-4.991,4.2-4.991,7.469v487.223
       c0,4.466,3.62,8.085,8.084,8.085h64.676h64.676h64.676h64.676h64.676h64.676h99.169c3.27,0,6.217-1.969,7.469-4.991
       C508.331,503.989,507.639,500.513,505.327,498.2z M408.526,495.833v-0.001v-26.409c0-4.466-3.62-8.084-8.084-8.084
       c-4.465,0-8.084,3.619-8.084,8.084v26.409H343.85v-26.409c0-4.466-3.62-8.084-8.084-8.084c-4.465,0-8.084,3.619-8.084,8.084
       v26.409h-48.507v-26.409c0-4.466-3.62-8.084-8.084-8.084c-4.465,0-8.084,3.619-8.084,8.084v26.409h-48.507v-26.409
       c0-4.466-3.62-8.084-8.084-8.084s-8.084,3.619-8.084,8.084v26.409h-48.507v-26.409c0-4.466-3.62-8.084-8.084-8.084
       s-8.084,3.619-8.084,8.084v26.409H85.148v-26.409c0-4.466-3.62-8.084-8.084-8.084s-8.084,3.619-8.084,8.084v26.409H20.472V36.211
       l459.621,459.621H408.526z"
        />
      </g>
    </g>
    <g>
      <g>
        <path
          d="M350.096,433.514L82.77,167.107c-2.313-2.306-5.79-2.993-8.807-1.74c-3.017,1.253-4.984,4.2-4.984,7.467v266.407
       c0,4.466,3.62,8.084,8.084,8.084h267.326c3.273,0,6.222-1.973,7.472-4.997C353.111,439.304,352.414,435.824,350.096,433.514z
       M85.148,431.156V192.304l239.676,238.852H85.148z"
        />
      </g>
    </g>
    <g>
      <g>
        <path
          d="M181.949,217.939L61.221,97.211c-3.157-3.156-8.276-3.156-11.432,0c-3.157,3.158-3.157,8.276,0,11.434l120.728,120.728
       c1.578,1.578,3.648,2.367,5.716,2.367c2.068,0,4.138-0.789,5.716-2.367C185.106,226.214,185.106,221.096,181.949,217.939z"
        />
      </g>
    </g>
    <g>
      <g>
        <path
          d="M225.066,265.368l-21.559-21.559c-3.157-3.156-8.276-3.156-11.432,0c-3.157,3.158-3.157,8.276,0,11.434l21.559,21.559
       c1.578,1.578,3.648,2.367,5.716,2.367s4.138-0.789,5.716-2.367C228.223,273.643,228.223,268.525,225.066,265.368z"
        />
      </g>
    </g>
    <g>
      <g>
        <path
          d="M505.33,275.584l-60.979-60.974L257.784,28.043c-0.004-0.004-0.01-0.009-0.014-0.014l-0.023-0.023
       c-0.038-0.038-0.079-0.068-0.116-0.105c-0.153-0.147-0.308-0.292-0.472-0.427c-0.072-0.06-0.15-0.112-0.224-0.169
       c-0.136-0.103-0.271-0.208-0.414-0.304c-0.1-0.067-0.205-0.125-0.307-0.188c-0.122-0.074-0.243-0.151-0.37-0.219
       c-0.126-0.068-0.255-0.125-0.384-0.184c-0.11-0.052-0.217-0.107-0.33-0.153c-0.156-0.065-0.316-0.119-0.475-0.172
       c-0.092-0.031-0.18-0.067-0.273-0.096c-0.196-0.059-0.396-0.107-0.596-0.151c-0.058-0.013-0.113-0.031-0.172-0.043l-0.036-0.008
       c-0.003-0.001-0.006-0.001-0.01-0.002L147.01,4.475c-0.298-0.064-0.6-0.111-0.907-0.14c-0.043-0.004-0.085-0.004-0.127-0.008
       c-0.069-0.005-0.139-0.006-0.208-0.011c-0.148-0.008-0.294-0.021-0.443-0.019c-0.099,0-0.197,0.008-0.296,0.011
       c-0.08,0.003-0.16,0.008-0.239,0.013c-0.042,0.003-0.084,0.003-0.125,0.006c-0.039,0.003-0.078,0.002-0.117,0.006
       c-0.166,0.016-0.329,0.043-0.493,0.069c-0.059,0.01-0.12,0.017-0.179,0.028c-0.617,0.112-1.214,0.293-1.78,0.54
       c-0.047,0.02-0.094,0.045-0.141,0.067c-0.163,0.074-0.326,0.149-0.483,0.234c-0.067,0.037-0.129,0.079-0.195,0.116
       c-0.068,0.039-0.135,0.081-0.202,0.122c-0.089,0.055-0.182,0.107-0.269,0.166c-0.095,0.064-0.183,0.135-0.275,0.203
       c-0.019,0.014-0.038,0.028-0.056,0.042c-0.053,0.04-0.108,0.077-0.16,0.117c-0.046,0.037-0.094,0.07-0.138,0.108
       c-0.076,0.061-0.143,0.129-0.217,0.194c-0.124,0.11-0.25,0.22-0.368,0.337c-0.048,0.048-0.092,0.101-0.138,0.15
       c-0.134,0.141-0.266,0.285-0.39,0.435c-0.025,0.03-0.045,0.063-0.07,0.093c-0.001,0.001-0.001,0.002-0.002,0.003
       c-0.043,0.055-0.084,0.111-0.126,0.167c-0.092,0.121-0.183,0.24-0.268,0.368c-0.01,0.014-0.017,0.029-0.027,0.044
       C138.53,8,138.493,8.067,138.453,8.13c-0.04,0.065-0.08,0.128-0.117,0.193c-0.045,0.079-0.094,0.155-0.137,0.236
       c-0.013,0.024-0.023,0.049-0.034,0.072c-0.064,0.122-0.123,0.248-0.18,0.374c-0.023,0.049-0.049,0.096-0.07,0.144
       c-0.015,0.036-0.033,0.07-0.049,0.106c-0.107,0.253-0.198,0.512-0.279,0.776c-0.003,0.012-0.005,0.025-0.01,0.037
       c-0.083,0.277-0.149,0.562-0.202,0.848c-0.014,0.074-0.023,0.151-0.034,0.225c-0.023,0.15-0.05,0.298-0.064,0.45
       c-0.008,0.082-0.008,0.162-0.013,0.244c-0.006,0.088-0.011,0.176-0.014,0.264c-0.003,0.094-0.011,0.187-0.011,0.281
       c0,0.144,0.012,0.287,0.019,0.43c0.004,0.077,0.005,0.152,0.012,0.229c0.003,0.043,0.004,0.086,0.008,0.129
       c0.029,0.294,0.072,0.584,0.133,0.871l21.316,106.582c0.002,0.01,0.004,0.019,0.005,0.029l0.005,0.025
       c0.03,0.153,0.072,0.301,0.111,0.451c0.044,0.17,0.094,0.338,0.149,0.505c0.051,0.154,0.101,0.309,0.161,0.458
       c0.036,0.088,0.078,0.174,0.116,0.261c0.064,0.144,0.127,0.288,0.198,0.427c0.043,0.085,0.093,0.167,0.139,0.251
       c0.078,0.14,0.157,0.278,0.244,0.412c0.05,0.078,0.102,0.154,0.155,0.231c0.095,0.138,0.194,0.273,0.297,0.404
       c0.054,0.069,0.108,0.137,0.164,0.204c0.117,0.14,0.24,0.275,0.368,0.406c0.039,0.04,0.071,0.083,0.11,0.122l186.603,186.602
       l60.977,60.976c1.578,1.578,3.648,2.367,5.716,2.367s4.138-0.789,5.716-2.367l85.367-85.366c1.517-1.517,2.368-3.573,2.368-5.717
       S506.847,277.102,505.33,275.584z M252.031,45.157l175.169,175.169l-16.006,16.006L236.025,61.163L252.031,45.157z
       M399.761,247.766l-19.055,19.055L205.536,91.651l9.517-9.517c0.003-0.003,0.008-0.006,0.011-0.01l9.528-9.528L399.761,247.766z
       M159.433,41.716l-3.806-19.029l5.32,1.064l13.71,2.742L159.433,41.716z M163.245,60.772l30.468-30.468l41.921,8.384
       L203.631,70.69c-0.003,0.003-0.006,0.008-0.01,0.011l-15.224,15.224c-0.003,0.003-0.008,0.006-0.011,0.01l-16.758,16.758
       L163.245,60.772z M178.097,119.092l16.006-16.006l175.17,175.168l-16.006,16.006L178.097,119.092z M414.243,355.238
       l-49.544-49.544l21.722-21.722l52.211-52.211l49.544,49.544L414.243,355.238z"
        />
      </g>
    </g>
    <g>
      <g>
        <path
          d="M462.21,278.303l-21.558-21.559c-3.156-3.156-8.275-3.156-11.433,0c-3.157,3.158-3.157,8.276,0,11.434l21.559,21.559
       c1.578,1.578,3.648,2.367,5.716,2.367s4.138-0.789,5.716-2.367C465.367,286.578,465.367,281.46,462.21,278.303z"
        />
      </g>
    </g>
    <g>
      <g>
        <path
          d="M505.326,100.133L444.35,39.157l-30.488-30.49c-11.557-11.556-30.363-11.555-41.922,0l-27.44,27.44
       c-11.558,11.559-11.558,30.364,0,41.923l30.489,30.488l60.976,60.977c1.516,1.516,3.572,2.367,5.716,2.367
       c2.144,0,4.201-0.852,5.716-2.367l57.928-57.928C508.483,108.409,508.483,103.291,505.326,100.133z M355.935,66.595
       c-5.254-5.253-5.254-13.801,0-19.053l27.439-27.44c5.254-5.254,13.802-5.254,19.056,0l24.772,24.772l-46.494,46.494
       L355.935,66.595z M441.683,152.345L392.14,102.8l46.494-46.493l49.544,49.543L441.683,152.345z"
        />
      </g>
    </g>
    <g>
      <g>
        <path
          d="M468.741,100.133l-24.39-24.391c-3.157-3.156-8.276-3.156-11.432,0c-3.157,3.158-3.157,8.276,0,11.434l24.39,24.391
       c1.578,1.578,3.648,2.367,5.716,2.367s4.138-0.789,5.716-2.367C471.898,108.409,471.898,103.291,468.741,100.133z"
        />
      </g>
    </g>
  </svg>
)

const supervision = (
  <svg
    className="me-1 size-6"
    viewBox="0 0 24 24"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M21 8h1V5h-3v1.006L5 2.461V1H2v3h1v6H1v8h2v2H2v3h3v-1h14v1h3v-3h-1v-2h2v-8h-2zm-1-2h1v1h-1zM3 2h1v1H3zm1 2h1v-.502l14 3.545V8h1v2H4zm0 18H3v-1h1zm17 0h-1v-1h1zm-1-2h-1v1H5v-1H4v-2h16zm2-9v6h-1v-3h-1v3h-1v-2h-1v2h-1v-5h-1v5h-1v-2h-1v2h-1v-3h-1v3h-1v-2h-1v2H9v-5H8v5H7v-2H6v2H5v-3H4v3H2v-6z"
      fill="currentcolor"
    />
  </svg>
)

const execution = (
  <svg
    fill="currentcolor"
    className="me-1 size-6"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 512 512"
  >
    <g>
      <g>
        <g>
          <path
            d="M202.105,91.621H363.79c16.344,0,29.642-13.297,29.642-29.642c0-5.188-1.382-10.317-3.996-14.83
         c-2.238-3.863-7.181-5.182-11.047-2.945c-3.863,2.238-5.183,7.184-2.944,11.047c1.207,2.085,1.819,4.348,1.819,6.728
         c0,7.43-6.044,13.474-13.474,13.474H202.106c-7.43,0-13.474-6.044-13.474-13.474s6.043-13.475,13.473-13.475h121.475
         c2.891,0,5.56-1.542,7.004-4.046c1.443-2.504,1.44-5.588-0.009-8.089c-1.207-2.085-1.818-4.348-1.818-6.728
         c0-7.43,6.044-13.474,13.474-13.474h140.126c7.43,0,13.474,6.044,13.474,13.474c0,7.43-6.044,13.474-13.474,13.474h-68.985
         c-4.466,0-8.084,3.62-8.084,8.084s3.619,8.084,8.084,8.084h68.985c16.344,0,29.642-13.297,29.642-29.642
         C512,13.297,498.702,0,482.358,0H342.232c-16.344,0-29.642,13.297-29.642,29.642c0,0.901,0.042,1.8,0.124,2.695H202.105
         c-16.344,0-29.642,13.297-29.642,29.642C172.463,78.324,185.761,91.621,202.105,91.621z"
          />
          <path
            d="M493.137,334.147H374.568c-10.401,0-18.863,8.463-18.863,18.863v19.402c0,4.465,3.618,8.084,8.084,8.084
         c4.466,0,8.084-3.62,8.084-8.084V353.01c0-1.485,1.208-2.695,2.695-2.695h118.568c1.486,0,2.695,1.209,2.695,2.695v32.337
         c0,1.485-1.208,2.695-2.695,2.695h-204.8c-10.401,0-18.863,8.463-18.863,18.863v88.926h-48.505V460.8
         c0-10.401-8.463-18.863-18.863-18.863h-45.811v-307.2H374.38c0.129,0.003,0.252,0.003,0.376,0H409.6v114.3
         c-12.428,3.527-21.558,14.977-21.558,28.521c0,16.345,13.298,29.642,29.642,29.642s29.642-13.297,29.642-29.642
         c0-4.465-3.618-8.084-8.084-8.084c-4.466,0-8.084,3.62-8.084,8.084c0,7.43-6.044,13.474-13.474,13.474
         s-13.474-6.044-13.474-13.474s6.044-13.474,13.474-13.474c4.466,0,8.084-3.62,8.084-8.084V134.737h2.695
         c4.466,0,8.084-3.62,8.084-8.084c0-4.465-3.618-8.084-8.084-8.084h-52.471L322.396,99.08c-4.198-1.525-8.834,0.639-10.361,4.834
         c-1.525,4.195,0.638,8.833,4.834,10.36l11.81,4.294H118.568V8.084c0-4.465-3.62-8.084-8.084-8.084
         c-4.465,0-8.084,3.62-8.084,8.084v110.484H25.9l63.721-72.825c2.939-3.36,2.599-8.467-0.761-11.407
         c-3.36-2.938-8.466-2.599-11.407,0.761L2.029,121.297C0,123.588-0.001,126.385,0,126.689v64.637
         c0,10.401,8.463,18.863,18.863,18.863h21.558c10.401,0,18.863-8.463,18.863-18.863v-56.589h26.947v45.621
         c-0.003,0.126-0.003,0.251,0,0.377v44.894c-0.003,0.126-0.003,0.251,0,0.377v44.894c-0.003,0.126-0.003,0.251,0,0.377v44.894
         c-0.003,0.126-0.003,0.251,0,0.377v44.894c-0.003,0.126-0.003,0.251,0,0.377v44.894c-0.003,0.126-0.003,0.251,0,0.377v34.844
         H29.642c-10.401,0-18.863,8.463-18.863,18.863v35.032H8.084c-4.465,0-8.084,3.62-8.084,8.084C0,508.38,3.62,512,8.084,512
         h140.126c4.465,0,8.084-3.62,8.084-8.084c0-4.465-3.62-8.084-8.084-8.084H26.947V460.8c0-1.485,1.209-2.695,2.695-2.695h172.463
         c1.485,0,2.695,1.209,2.695,2.695v35.032h-24.253c-4.465,0-8.084,3.62-8.084,8.084c0,4.465,3.62,8.084,8.084,8.084h323.368
         c4.466,0,8.084-3.62,8.084-8.084c0-4.465-3.618-8.084-8.084-8.084h-13.474V460.8c0-10.401-8.463-18.863-18.863-18.863h-96.741
         c-4.466,0-8.084,3.62-8.084,8.084c0,4.465,3.619,8.084,8.084,8.084h96.741c1.486,0,2.695,1.209,2.695,2.695v35.032H285.642
         v-37.726h57.398c4.466,0,8.084-3.62,8.084-8.084c0-4.465-3.618-8.084-8.084-8.084h-57.398v-35.032
         c0-1.485,1.208-2.695,2.695-2.695h142.821v22.366c0,4.465,3.618,8.084,8.084,8.084c4.466,0,8.084-3.62,8.084-8.084v-22.366
         h45.811c10.401,0,18.863-8.463,18.863-18.863V353.01C512,342.61,503.537,334.147,493.137,334.147z M43.116,191.326
         c0,1.485-1.209,2.695-2.695,2.695H18.863c-1.485,0-2.695-1.209-2.695-2.695v-56.589h26.947V191.326z M140.126,441.937H102.4
         v-29.204l26.808-8.936c4.236-1.412,6.526-5.991,5.114-10.226c-1.412-4.236-5.992-6.526-10.226-5.114l-21.696,7.232v-28.228
         l26.808-8.936c4.236-1.412,6.526-5.991,5.114-10.226c-1.412-4.237-5.992-6.524-10.226-5.114l-21.696,7.232v-28.228l26.808-8.936
         c4.236-1.412,6.526-5.991,5.114-10.226c-1.412-4.236-5.992-6.526-10.226-5.114l-21.696,7.232v-28.228l26.808-8.936
         c4.236-1.412,6.526-5.991,5.114-10.226c-1.412-4.236-5.992-6.525-10.226-5.114l-21.696,7.232v-28.228l26.808-8.936
         c4.236-1.412,6.526-5.991,5.114-10.226c-1.412-4.237-5.992-6.526-10.226-5.114l-21.696,7.232v-28.228l26.808-8.936
         c4.236-1.412,6.526-5.991,5.114-10.226c-1.412-4.236-5.992-6.524-10.226-5.114l-21.696,7.232v-34.594h37.726V441.937z"
          />
          <path
            d="M134.668,48.018l21.558,7.84c0.913,0.332,1.845,0.489,2.763,0.489c3.303,0,6.404-2.04,7.598-5.324
         c1.526-4.195-0.638-8.833-4.834-10.36l-21.558-7.84c-4.193-1.524-8.833,0.638-10.36,4.834
         C128.308,41.855,130.473,46.493,134.668,48.018z"
          />
        </g>
      </g>
    </g>
  </svg>
)
